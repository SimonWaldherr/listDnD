ToolMan._eventsFactory={fix:function(a){if(!a){a=window.event}if(a.target){if(a.target.nodeType==3){a.target=a.target.parentNode}}else{if(a.srcElement){a.target=a.srcElement}}return a},register:function(b,c,d){if(b.addEventListener){b.addEventListener(c,d,false)}else{if(b.attachEvent){if(!b._listeners){b._listeners=new Array()}if(!b._listeners[c]){b._listeners[c]=new Array()}var a=function(){d.apply(b,new Array())};b._listeners[c][d]=a;b.attachEvent("on"+c,a)}}},unregister:function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false)}else{if(a.detachEvent){if(a._listeners&&a._listeners[b]&&a._listeners[b][c]){a.detachEvent("on"+b,a._listeners[b][c])}}}}};