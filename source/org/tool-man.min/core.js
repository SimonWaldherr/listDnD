var ToolMan={events:function(){if(!ToolMan._eventsFactory){throw"ToolMan Events module isn't loaded"}return ToolMan._eventsFactory},css:function(){if(!ToolMan._cssFactory){throw"ToolMan CSS module isn't loaded"}return ToolMan._cssFactory},coordinates:function(){if(!ToolMan._coordinatesFactory){throw"ToolMan Coordinates module isn't loaded"}return ToolMan._coordinatesFactory},drag:function(){if(!ToolMan._dragFactory){throw"ToolMan Drag module isn't loaded"}return ToolMan._dragFactory},dragsort:function(){if(!ToolMan._dragsortFactory){throw"ToolMan DragSort module isn't loaded"}return ToolMan._dragsortFactory},helpers:function(){return ToolMan._helpers},cookies:function(){if(!ToolMan._cookieOven){throw"ToolMan Cookie module isn't loaded"}return ToolMan._cookieOven},junkdrawer:function(){return ToolMan._junkdrawer}};ToolMan._helpers={map:function(d,b){for(var a=0,c=d.length;a<c;a++){b(d[a])}},nextItem:function(b,c){if(b==null){return}var a=b.nextSibling;while(a!=null){if(a.nodeName==c){return a}a=a.nextSibling}return null},previousItem:function(b,c){var a=b.previousSibling;while(a!=null){if(a.nodeName==c){return a}a=a.previousSibling}return null},moveBefore:function(b,a){var c=b.parentNode;c.removeChild(b);c.insertBefore(b,a)},moveAfter:function(b,a){var c=b.parentNode;c.removeChild(b);c.insertBefore(b,a?a.nextSibling:null)}};ToolMan._junkdrawer={serializeList:function(d){var a=d.getElementsByTagName("li");var f=new Array();for(var b=0,e=a.length;b<e;b++){var c=a[b];f.push(ToolMan.junkdrawer()._identifier(c))}return f.join("|")},inspectListOrder:function(a){alert(ToolMan.junkdrawer().serializeList(document.getElementById(a)))},restoreListOrder:function(h){var f=document.getElementById(h);if(f==null){return}var b=ToolMan.cookies().get("list-"+h);if(!b){return}var d=b.split("|");var g=ToolMan.junkdrawer()._itemsByID(f);for(var e=0,c=d.length;e<c;e++){var a=d[e];if(a in g){var j=g[a];f.removeChild(j);f.insertBefore(j,null)}}},_identifier:function(c){var a=ToolMan.junkdrawer().trim;var b;b=a(c.getAttribute("id"));if(b!=null&&b.length>0){return b}b=a(c.getAttribute("itemID"));if(b!=null&&b.length>0){return b}return a(c.innerHTML)},_itemsByID:function(d){var f=new Array();var a=d.getElementsByTagName("li");for(var b=0,e=a.length;b<e;b++){var c=a[b];f[ToolMan.junkdrawer()._identifier(c)]=c}return f},trim:function(a){if(a==null){return null}return a.replace(/^(\s+)?(.*\S)(\s+)?$/,"$2")}};